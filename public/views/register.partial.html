<!-- Registration app body (SPA view). Header is provided by app.html. -->
<div class="registration-wrap">
  <!-- Step Indicator (at top) -->
  <nav class="stepper" aria-label="Registration progress">
    <ol>
      <li class="stepper-step active" data-step="0">
        <span class="stepper-circle">1</span>
        <span class="stepper-label">Welcome</span>
      </li>
      <li class="stepper-step" data-step="1">
        <span class="stepper-circle">2</span>
        <span class="stepper-label">Verify ID</span>
      </li>
      <li class="stepper-step" data-step="2">
        <span class="stepper-circle">3</span>
        <span class="stepper-label">Details</span>
      </li>
      <li class="stepper-step" data-step="3">
        <span class="stepper-circle">4</span>
        <span class="stepper-label">Done</span>
      </li>
    </ol>
  </nav>

  <!-- Dynamic Hero (title/intro change per step) -->
  <div class="hero">
    <h1 id="heroTitle" data-i18n="welcomeTitle">Welcome to Tamange Bank</h1>
    <p id="heroIntro" data-i18n="welcomeIntro">
      Open your bank account in minutes using your digital driver's license or digital ID. We'll securely verify your identity using the latest digital credentials technology.
    </p>
  </div>

  <!-- Step 0: Welcome -->
  <div id="step-welcome" class="card">
    <div class="info-box">
      <p><strong data-i18n="whatYouNeed">What you'll need:</strong></p>
      <ul>
        <li data-i18n="needCredential">A digital driver's license or PhotoID digital credential</li>
        <li data-i18n="needAge">You must be 18 years or older</li>
        <li data-i18n="needContact">A valid email address and phone number</li>
      </ul>
    </div>
    <button id="startBtn" class="btn-primary" style="margin-top: 20px;" data-i18n="startRegistration">Start Registration</button>
  </div>

  <!-- Step 1: Verify Identity -->
  <div id="step-verify" class="card hidden">
    <button id="verifyBtn" class="btn-primary" data-i18n="verifyWithDigitalId">Verify with Digital ID</button>
    <div id="verifyResult" style="margin-top: 16px;"></div>
  </div>

  <!-- Step 2: Account Details -->
  <div id="step-details" class="card hidden">
    <!-- Error Message Display -->
    <div id="registrationError" class="error-message hidden" style="margin-bottom: 20px;">
      <i class="fas fa-exclamation-triangle"></i>
      <span id="registrationErrorText"></span>
    </div>

    <!-- Verified ID Photo (populated by JS after verification) -->
    <div id="verifiedPhotoDisplay" class="verified-photo hidden" style="text-align: center; margin-bottom: 24px;">
      <img id="verifiedPhoto" src="" alt="Verified ID" style="width: 120px; height: 120px; border-radius: 50%; object-fit: cover; border: 3px solid var(--gold-primary); box-shadow: 0 4px 12px rgba(212, 175, 55, 0.3);" />
      <p style="margin-top: 8px; font-size: 14px; color: var(--gold-primary); font-weight: 600;">
        <i class="fas fa-check-circle"></i> Identity Verified
      </p>
    </div>

    <div class="form-group">
      <label data-i18n="chooseAccountType">Choose Account Type</label>
      <div class="account-types">
        <div class="account-type" data-type="checking">
          <h3 data-i18n="checkingAccount">Checking Account</h3>
          <p data-i18n="checkingDesc">For everyday spending and bill payments</p>
          <div class="feature-highlight" data-i18n="checkingHighlight">No monthly fees</div>
        </div>
        <div class="account-type" data-type="savings">
          <h3 data-i18n="savingsAccount">Savings Account</h3>
          <p data-i18n="savingsDesc">Earn interest on your balance</p>
          <div class="feature-highlight" data-i18n="savingsHighlight">2.5% APY</div>
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="email" data-i18n="emailAddress">Email Address</label>
      <input id="email" type="email" data-i18n-placeholder="placeholderEmail" placeholder="you@example.com" />
    </div>
    <div class="form-group">
      <label for="phone" data-i18n="phoneNumber">Phone Number</label>
      <input id="phone" type="tel" data-i18n-placeholder="placeholderPhone" placeholder="+1 (555) 123-4567" />
    </div>
    <div class="form-group">
      <label for="address" data-i18n="streetAddress">Street Address</label>
      <input id="address" type="text" data-i18n-placeholder="placeholderAddress" placeholder="123 Main Street" />
    </div>
    <div class="form-group">
      <label for="city" data-i18n="city">City</label>
      <input id="city" type="text" data-i18n-placeholder="placeholderCity" placeholder="New York" />
    </div>
    <div class="form-group">
      <label for="state" data-i18n="state">State</label>
      <input id="state" type="text" data-i18n-placeholder="placeholderState" placeholder="NY" />
    </div>
    <div class="form-group">
      <label for="zipCode"><span data-i18n="zipCode">ZIP Code</span> <span style="opacity:.7" data-i18n="optional">Optional</span></label>
      <input id="zipCode" type="text" data-i18n-placeholder="placeholderZip" placeholder="10001" />
    </div>

    <div class="checkbox-group">
      <input type="checkbox" id="terms" />
      <label for="terms" data-i18n="termsAgree">I agree to the Terms and Conditions and Privacy Policy</label>
    </div>

    <button id="submitBtn" class="btn-primary" style="margin-top: 16px;" disabled data-i18n="createAccount">Create Account</button>
    <div id="submitResult" style="margin-top: 16px;"></div>
  </div>

  <!-- Step 3: Confirmation -->
  <div id="step-confirm" class="card hidden">
    <div id="accountDetails"></div>
  </div>
</div>
